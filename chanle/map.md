# Шпаргалка по Go: slices, maps, channels

Эта статья содержит основную информацию по таким структурам данных Go, как slices, maps и channels. Включает описание их поведения в разных состояниях и соответствующие примеры. Небольшое описание представлено для каждой структуры данных.

## 1. Slice (слайс)

**Slice** – структура данных, которая похожа на массив, но с возможностью изменения количества элементов. Слайс содержит ссылку на начало области данных: длину (количество элементов заданного типа) и емкость (capacity). Последнее представляет собой количество элементов в области памяти с первого элемента слайса и до конца этой области. Например, если в памяти 25 элементов и начало слайса указывает на 5-й элемент, то емкость будет – 20 (длина при этом может быть любой от 0 до 20, если больше, то произойдет выделение большего количества памяти и копирование имеющихся значений из старой области в эту новую, а также добавление новых элементов).

Поведение slice представлено в таблице:

|               |                 |                                       |                                     |
| ------------- | --------------- | ------------------------------------- | ----------------------------------- |
| **состояние** | **действие**    | **результат**                         | **пример**                          |
| nil           | чтение          | panic                                 | <https://go.dev/play/p/Qs685lg2Erx> |
| nil           | запись          | panic                                 | <https://go.dev/play/p/W8A_zl0mZga> |
| nil           | len             | 0                                     | <https://go.dev/play/p/2aqHrfcOD9L> |
| nil           | cap             | 0                                     | <https://go.dev/play/p/F5pF3lXtsQa> |
| nil           | append          | добавит элемент и вернет НЕ nil slice | <https://go.dev/play/p/9Iuc01njT4o> |
| nil           | сравнение с nil | true                                  | <https://go.dev/play/p/9xMO8_9GZ6c> |
| пустой        | чтение          | panic                                 | <https://go.dev/play/p/XCFt5Dp7F6m> |
| пустой        | запись          | panic                                 | <https://go.dev/play/p/_XD_f_IoKVD> |
| пустой        | len             | 0                                     | <https://go.dev/play/p/7pv8uwgBeNu> |
| пустой        | cap             | 0                                     | <https://go.dev/play/p/EkKOleG9pRW> |
| пустой        | сравнение с nil | false                                 | <https://go.dev/play/p/UuFyP_NLzIS> |
| пустой        | append          | добавит элемент                       | <https://go.dev/play/p/Eo1o7udaP14> |
| не пустой     | чтение          | вернет значение                       | <https://go.dev/play/p/8bmLymnJBHX> |
| не пустой     | запись          | запишет значение                      | <https://go.dev/play/p/tU2ei00iyWE> |
| не пустой     | len             | вернет длину                          | <https://go.dev/play/p/tyGUNUD1Eje> |
| не пустой     | cap             | вернет емкость                        | <https://go.dev/play/p/5pP6Xo_eHfu> |
| не пустой     | сравнение с nil | false                                 | <https://go.dev/play/p/QTgzq6f62VS> |
| не пустой     | append          | добавит элемент                       | <https://go.dev/play/p/rhqMPn3Cees> |

Больше полезных материалов вы найдете на нашем телеграм-канале [«Библиотека Go разработчика»](https://t.me/goproglib)

## 2. Map

**Map **–** **структура данных, реализующая **hash map**. Hash Map позволяет по ключу получить значение за время O(1). На запись по ключу значения элемента также тратится O(1) времени.

Чтение элемента в Golang может осуществляться с помощью конструкции:

```
        v, ok := someMap["someKey"]

    
```

Здесь `ok` возвращает `true` в случае, если элемент существует и прочитан и `false`, если нет. Если элемента нет, то всегда возвращается нулевое значение данного типа в качестве значения.

Поведение `map` представлено в таблице:

|                  |                 |                                               |                                     |
| ---------------- | --------------- | --------------------------------------------- | ----------------------------------- |
| **состояние**    | **действие**    | **результат**                                 | **пример**                          |
| элемент есть     | чтение          | значение элемента, ok: true                   | <https://go.dev/play/p/3-KR5o2s_PP> |
| элемент есть     | запись          | перезапишет существующее значение             | <https://go.dev/play/p/Z2K9FuJd15e> |
| элемента нет     | чтение          | значение: нулевое для данного типа, ok: false | <https://go.dev/play/p/gHy8zKFc8JK> |
| элемента нет     | запись          | запишет новое значение по данному ключу       | <https://go.dev/play/p/Y487vvnOD-y> |
| nil              | чтение          | значение: нулевое для данного типа, ok: false | <https://go.dev/play/p/9ysg-MjuhXr> |
| nil              | запись          | паника                                        | <https://go.dev/play/p/VrXlQK1XaLd> |
| nil              | len             | 0                                             | <https://go.dev/play/p/BJ3_cRC8ZSL> |
| nil              | cap             | ошибка компиляции                             | <https://go.dev/play/p/siDXBNoNl5T> |
| nil              | сравнение с nil | true                                          | <https://go.dev/play/p/zJDrAbVumih> |
| инициализирована | len             | количество значений в мапе                    | <https://go.dev/play/p/BQ-yb71aSaQ> |
| инициализирована | cap             | ошибка: invalid argument for cap              | <https://go.dev/play/p/oLQKWp_hHxW> |
| инициализирована | сравнение с nil | false                                         | <https://go.dev/play/p/zTMnkuE2qEP> |
