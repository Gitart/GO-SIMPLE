### Команда godoc в Golang

**godoc** извлекает и генерирует документацию для программ Go.

Он работает как веб-сервер и представляет документацию как веб-страницу.

```
godoc -http=:6060

```

[![](https://4.bp.blogspot.com/-oK2PeIor6Ac/XTIHk_hPwZI/AAAAAAAAA9w/CNVmdqgVg3oyhJySXLC9krUyrRC6oanUQCPcBGAYYCw/s400/godoc.png)](https://4.bp.blogspot.com/-oK2PeIor6Ac/XTIHk_hPwZI/AAAAAAAAA9w/CNVmdqgVg3oyhJySXLC9krUyrRC6oanUQCPcBGAYYCw/s1600/godoc.png)

Использование:

```
godoc [flag]

```

Флаги:

```
-v
    режим с подробным выводом

-timestamps=true
    показать временные метки (timestamps)
    со списком каталогов

-index
    включить идентификатор и индекс
    полнотекстового поиска (окно поиска не отображается,
    если -index не установлен)

-index_files=""
    шаблон glob с указанием индексных файлов;
    если не пустой, индекс читается из этих файлов
    в отсортированном порядке

-index_throttle=0.75
    значение указателя дроссельной заслонки;
    значение 0 означает, что время не выделяется
    для индексатора (индексатор никогда не завершится),
    значение 1,0 означает, что создание индекса
    выполняется с полной скоростью (другим goroutines
    может не хватить времени, пока индекс строится)

-index_interval=0
    интервал индексации; значение 0 устанавливает 5 минут,
    отрицательные значения индексов -
    только один раз при запуске

-play=false
    включить песочницу

-links=true
    связать идентификаторы с их объявлениями

-write_index=false
    записать индекс в файл;
    имя файла должно быть указано с
    -index_files

-maxresults=10000
    показано максимальное количество результатов
    полнотекстового поиска (полнотекстовый индекс
    не создается, если maxresults <= 0)

-notes="BUG"
    маркеры соответствия регулярного выражения,
    чтобы показать (например, "BUG|TODO", ".*")

-goroot=$GOROOT
    Go корневой каталог

-http=addr
    адрес HTTP сервиса
    (например, '127.0.0.1:6060' или просто ':6060')

-analysis=type,pointer
    разделенный запятыми список анализов для выполнения
    "type": отображать разрешение идентификатора,
            информацию о типе, наборы методов,
            'implements' и статические вызываемые
    "pointer": отображать одноранговые каналы,
               вызывающие и динамические абоненты канала
               (значительно медленнее)

-templates=""
    каталог, содержащий альтернативные файлы шаблонов;
    если установлено, каталог может содержать
    альтернативные файлы шаблонов
    для файлов в $GOROOT/lib/godoc

-url=path
    вывести на стандартный вывод данные,
    которые будут выдаваться
    HTTP запросом для указанного пути (path)

-zip=""
    zip-файл, предоставляющий файловую систему
    для обслуживания; отключено, если пусто

```

По умолчанию godoc просматривает пакеты, которые находит через $GOROOT и $GOPATH (если установлены). Это поведение можно изменить, указав альтернативный $GOROOT с флагом -goroot.

Когда установлен флаг -index, индекс поиска сохраняется. Индекс создается при запуске.

Индекс содержит информацию как по идентификатору, так и по полнотекстовому поиску (поиск по регулярным выражениям) Максимальное количество отображаемых результатов полнотекстового поиска можно установить с помощью флага -maxresults; если установлено значение 0, полнотекстовые результаты не отображаются, и создается только индекс идентификатора, но не создается индекс полнотекстового поиска.

По умолчанию godoc использует системные GOOS/GOARCH. Вы можете указать параметры URL "GOOS" и "GOARCH", чтобы настроить вывод на веб-странице целевой системы.

Режим представления веб-страниц, обслуживаемых godoc, можно контролировать с помощью URL параметра "m"; в качестве значения он принимает список имен флагов через запятую:

```
all     показывать документацию для всех объявлений,
        а не только экспортируемых

methods показывать все встроенные методы, а не только те,
        которые не были экспортированы анонимными полями

src     показывать исходный код,
        а не извлеченную документацию

flat    представить плоский (без отступа)
        список каталогов с использованием полных путей

```

Например, https://golang.org/pkg/math/big/?m=all показывает документацию для всех (не только экспортируемых) объявлений пакета big.

По умолчанию godoc обслуживает файлы из файловой системы базовой ОС. Вместо этого .zip-файл может быть предоставлен с помощью флага -zip, который содержит файловую систему для обслуживания. Пути к файлам, хранящиеся в .zip-файле, должны использовать косую черту ('/') в качестве разделителя пути; и они должны быть без корней. Для $GOROOT (или -goroot) должен быть указан путь к каталогу файла .zip, содержащий корневой каталог Go. Например, для файла .zip, созданного командой:

```
zip -r go.zip $HOME/go

```

можно запустить godoc следующим образом:

```
godoc -http=:6060 -zip=go.zip -goroot=$HOME/go

```

Документация godoc конвертируется в HTML или в текст с использованием пакета go/doc. Godoc также показывает пример кода, который запускается пакетом тестирования
