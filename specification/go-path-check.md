Проверка пути импорта в Golang
Когда описанная в предыдущем посте функция настраиваемого пути импорта перенаправляет на известный сайт размещения кода, каждый из полученных пакетов имеет два возможных пути импорта с использованием настраиваемого домена или известного узла размещения.

Утверждается, что оператор пакета имеет "import comment" (комментарий импорта), если за ним сразу же (до следующего перехода на новую строку) следует комментарий одной из этих двух форм:


package math // import "path"
package math /* import "path" */
Команда go откажется устанавливать пакет с комментарием импорта, если на него не ссылается этот путь импорта. Таким образом, комментарии импорта позволяют авторам пакетов убедиться, что используется пользовательский путь импорта, а не прямой путь к базовому сайту размещения кода.

Проверка пути импорта отключена для кода, найденного в деревьях поставщиков (vendor trees). Это позволяет копировать код в альтернативные местоположения в деревьях поставщиков без необходимости обновлять комментарии импорта.

Проверка пути импорта также отключена при использовании модулей. Комментарии к пути импорта отменяются утверждением module файла go.mod.
