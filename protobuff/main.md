# –£—á–µ–±–Ω–æ–µ –ø–æ—Å–æ–±–∏–µ –ø–æ –±—É—Ñ–µ—Ä—É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Go

 ![–≠–ª–ª–∏–æ—Ç –§–æ—Ä–±—Å](https://images.tutorialedge.net/authors/profile.jpeg) [–≠–ª–ª–∏–æ—Ç –§–æ—Ä–±—Å](https://twitter.com/Elliot_F)   ‚è∞ 6 –º–∏–Ω—É—Ç   üìÖ 1 —Å–µ–Ω—Ç—è–±—Ä—è 2018 –≥.

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, —Ç–æ–≤–∞—Ä–∏—â–∏ –∫–æ–¥–µ—Ä—ã! –í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö Protocol Buffers –≤ —Å–≤–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ Go. –ú—ã —Ä–∞—Å—Å–∫–∞–∂–µ–º, —á—Ç–æ —Ç–∞–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∏ —á–µ–º –æ–Ω –ª—É—á—à–µ –±–æ–ª–µ–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ XML –∏–ª–∏ –¥–∞–∂–µ JSON. –ò –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –Ω–∞—Å —Ä–∞–±–æ—Ç–∞—Ç—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å–∏–ª—ã –≤ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ.

–ö –∫–æ–Ω—Ü—É —ç—Ç–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –æ—Å–≤–æ–∏—Ç—å—Å—è —Å –æ—Å–Ω–æ–≤–∞–º–∏ –∏ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ —Å–º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å–∏—Å—Ç–µ–º—ã.

## –í–∏–¥–µ–æ—É—Ä–æ–∫

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

–ë—É—Ñ–µ—Ä—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –ø–æ —Å—É—Ç–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö, –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏–π –Ω–∞ JSON –∏–ª–∏ XML, –≤ —Ç–æ–º —Å–º—ã—Å–ª–µ, —á—Ç–æ –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏–ª–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–æ–≤.

–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —ç—Ç–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω –Ω–∞–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ç–∞–∫–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏, –∫–∞–∫ XML –∏–ª–∏ –¥–∞–∂–µ JSON. –≠—Ç–æ –±—ã–ª —Ñ–æ—Ä–º–∞—Ç, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π Google, –¥–æ–≤–æ–ª—å–Ω–æ –∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç —Ç–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä, —á—Ç–æ –∫–∞–∂–¥—ã–π –±–∞–π—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∏ –º–æ–≥—É—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å —á–µ–ª–æ–≤–µ–∫, —á—å–∏ –¥–∞–Ω–Ω—ã–µ –º—ã —Ö–æ—Ç–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ —Ç—Ä–µ—Ö —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:

```xml
<person>
  <name>Elliot</name>
  <age>24</age>
</person>

```

–ú—ã –º–æ–≥–ª–∏ –±—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:

```json
{
  "name": "Elliot",
  "age": 24
}

```

–ò –µ—Å–ª–∏ –±—ã –º—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∏ —ç—Ç–∏ –∂–µ –¥–∞–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞:

```c
[10 6 69 108 108 105 111 116 16 24]

```

–ï—Å–ª–∏ –≤—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å –ø—Ä–æ–≤–æ–¥–Ω—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –≤—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ, –Ω–∞—á–∏–Ω–∞—è —Å –ø–æ–∑–∏—Ü–∏–∏ 2 –≤ –º–∞—Å—Å–∏–≤–µ, –∏–º—è `elliot` –ø—Ä–æ–ø–∏—Å–∞–Ω–æ, `e` \= 69, `l` \= 108 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –î–∞–ª–µ–µ —Å–ª–µ–¥—É–µ—Ç –±–∞–π—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞, 24 –≥–æ–¥–∞.

–û–¥–Ω–∞–∫–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –µ—Å—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, –∏ —è –≤—Å–µ –µ—â–µ –ø—ã—Ç–∞—é—Å—å —É–∑–Ω–∞—Ç—å –æ–± —ç—Ç–æ–º –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —è –±—ã –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Google –∑–¥–µ—Å—å: [–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞](https://developers.google.com/protocol-buffers/docs/encoding) .

–¢–µ–ø–µ—Ä—å, —Ö–æ—Ç—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–º–µ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è JSON –∏ –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –≤ —ç—Ç–æ–º –º–∞—Å—à—Ç–∞–±–µ, –Ω–æ –∫–æ–≥–¥–∞ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±–æ–ª—å—à–µ, —á–µ–º –≤–∞—à —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä ¬´–Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã¬ª, —ç–∫–æ–Ω–æ–º–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞—Å—Ç–∏.

## –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä

```s
& go get github.com/golang/protobuf
$ go get github.com/golang/protobuf/proto

```

–≠—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –∑–∞–ø—É—Å–∫–∞ –Ω–∞—à–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞.

```s
$ export PATH=$PATH:$GOPATH/bin

```

–° —ç—Ç–∏–º –Ω–∞–±–æ—Ä–æ–º —É –≤–∞—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π `protoc` –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –≤ –≤–∞—à–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ó–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –Ω–∞—à–µ–π `protobuf` —Å—Ö–µ–º—ã, –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—Ç –∂–µ `person` –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏, —á—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –≤—ã—à–µ.

–ú—ã –Ω–∞—á–Ω–µ–º —Å —É–∫–∞–∑–∞–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –æ–Ω `proto3` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞—à–∏–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º. –ó–∞—Ç–µ–º –º—ã —É–∫–∞–∂–µ–º, —á—Ç–æ —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —ç—Ç–æ –±—ã–ª–æ —á–∞—Å—Ç—å—é `main` –ø–∞–∫–µ—Ç–∞.

–ù–∞–∫–æ–Ω–µ—Ü, –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –Ω–∞—à –æ–±—ä–µ–∫—Ç –≤—ã–≥–ª—è–¥–µ–ª. –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–∞—à–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∏–ø–∞ `Person` —Å –¥–≤—É–º—è –ø–æ–ª—è–º–∏ `name` –∏ `age` .

—á–µ–ª–æ–≤–µ–∫.–ø—Ä–æ—Ç–æ

```proto
syntax="proto3";

package main;

message Person {
      string name = 1;
      int32 age = 2;
}

```

–ò –∑–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è `protoc` –¥–≤–æ–∏—á–Ω—ã–π —Ñ–∞–π–ª:

```s
$ protoc --go_out=. *.proto

```

–ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å –Ω–∞—à –∫–æ–¥ –Ω–∞ —Ö–æ–¥—É. –î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ, `Person` –∞ –∑–∞—Ç–µ–º –º—ã —Å–º–æ–∂–µ–º –º–∞—Ä—à–∞–ª–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –≤ `protobuf` –æ–±—ä–µ–∫—Ç.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Ç–æ–º, –∫–∞–∫ —ç—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è, –º—ã –≤—ã–∑—ã–≤–∞–µ–º `fmt.Println(data)` —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞—à `protobuf` –æ–±—ä–µ–∫—Ç.

main.go

```go
package main

import (
    "fmt"
    "log"

    "github.com/golang/protobuf/proto"
)

func main() {

    elliot := &Person{
        Name: "Elliot",
        Age:  24,
    }

    data, err := proto.Marshal(elliot)
    if err != nil {
        log.Fatal("marshaling error: ", err)
    }

  // printing out our raw protobuf object
    fmt.Println(data)

  // let's go the other way and unmarshal
  // our byte array into an object we can modify
  // and use
    newElliot := &Person{}
    err = proto.Unmarshal(data, newElliot)
    if err != nil {
        log.Fatal("unmarshaling error: ", err)
  }

  // print out our `newElliot` object
  // for good measure
  fmt.Println(newElliot.GetAge())
    fmt.Println(newElliot.GetName())

}

```

–ö–æ–≥–¥–∞ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º —ç—Ç–æ, –Ω–∞–º –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º—ã `test.pb.go` —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–µ–º –Ω–∞—à —Ñ–∞–π–ª, —á—Ç–æ–±—ã —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ:

$ –∑–∞–ø—É—Å—Ç–∏—Ç—å main.go test.pb.go

```s
[10 6 69 108 108 105 111 116 16 24]
name:"Elliot" age:24

```

## –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è

–ò—Ç–∞–∫, –Ω–∞–º —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ —É –Ω–∞—Å, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –±—É–¥–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –≤ –Ω–∞—à–µ–º —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏ –º—ã –±—É–¥–µ–º –∏–∑–º–µ–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ç. –¥.

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏. –ú—ã –ø—Ä–æ–¥–æ–ª–∂–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à `Person` —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –¥–æ–±–∞–≤–∏–º –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö.

–ú—ã –º–æ–∂–µ–º —Å–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞—à Person –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ `SocialFollowers` —Ç–∏–ø–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:

main.go

```c
syntax="proto3";

package main;

message SocialFollowers {
  int32 youtube = 1;
  int32 twitter = 2;
}

message Person {
      string name = 1;
      int32 age = 2;
    SocialFollowers socialFollowers = 3;
}

```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –≤–Ω–µ—Å–ª–∏ —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å `protoc` –∫–æ–º–∞–Ω–¥—É:

```s
$ protoc --go_out=. *.proto

```

–ò –∑–∞—Ç–µ–º, –∫–æ–≥–¥–∞ –º—ã –≤–µ—Ä–Ω–µ–º—Å—è –≤ –Ω–∞—à—É –ø—Ä–æ–≥—Ä–∞–º–º—É Go, –º—ã –º–æ–∂–µ–º –∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—à `elliot` –æ–±—ä–µ–∫—Ç `SocialFollowers` :

main.go

```go
package main

import (
    "fmt"
    "log"

    "github.com/golang/protobuf/proto"
)

func main() {

    elliot := Person{
        Name: "Elliot",
        Age:  24,
        SocialFollowers: &SocialFollowers{
            Youtube: 2500,
            Twitter: 1400,
        },
    }

    data, err := proto.Marshal(&elliot)
    if err != nil {
        log.Fatal("marshaling error: ", err)
    }

    // let's go the other way and unmarshal
    // our protocol buffer into an object we can modify
    // and use
    newElliot := &Person{}
    err = proto.Unmarshal(data, newElliot)
    if err != nil {
        log.Fatal("unmarshaling error: ", err)
    }

    // print out our `newElliot` object
    // for good measure
    fmt.Println(newElliot.GetName())
    fmt.Println(newElliot.GetAge())
    fmt.Println(newElliot.SocialFollowers.GetTwitter())
    fmt.Println(newElliot.SocialFollowers.GetYoutube())

}

```

–ö–æ–≥–¥–∞ –º—ã –∑–∞–ø—É—Å—Ç–∏–º —ç—Ç–æ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑, –º—ã —É–≤–∏–¥–∏–º, —á—Ç–æ –≤—Å–µ —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å:

$ –∑–∞–ø—É—Å—Ç–∏—Ç—å main.go test.pb.go

```s
Elliot
24
1400
2500

```

## –í—ã–≤–æ–¥

–ò—Ç–∞–∫, –≤ —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã —Ö–æ—Ä–æ—à–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏, –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–∞–Ω–Ω—ã—Ö –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤ —Å–≤–æ–∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ Go.

–ù–∞–¥–µ—é—Å—å, –≤—ã –Ω–∞—à–ª–∏ —ç—Ç–æ—Ç —É—Ä–æ–∫ –ø–æ–ª–µ–∑–Ω—ã–º. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –¥–∞–π—Ç–µ –º–Ω–µ –∑–Ω–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∏–∂–µ!
