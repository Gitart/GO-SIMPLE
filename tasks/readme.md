# TASKS

![image](https://user-images.githubusercontent.com/3950155/198528320-ef1484d4-e50f-4ace-9fac-20fc79ebb0c7.png)

https://golangify.com/code-timeout


Таймаут для долгих операций в коде выше имплементирован через использование функции time.After, что предоставляет повторяющийся канал за определенный промежуток времени.

Сама по себе операция использует оператор, что выбирает между каналом time.After и опцией по умолчанию, что выполняет операцию.

Обратите внимание, что вам нужно позволить коду периодически читать из канала time.After для выяснения превышен таймаут или нет. В противном случае, если ветвь кода по умолчанию будет полностью блокировать выполнение, то не будет способа выяснить, истек ли таймаут и завершить операцию.

В примере мы используем функцию time.After, но функция Timer также может использоваться подобным способом. Встроенные библиотеки также используют context.WithTimeout для имплементации функциональности таймаута.


```
Начало вставки элементов
Время истекло
Выход из горутины
Получилось вставить 4253538 элементов
```
